@prefixrr:<http://www.w3.org/ns/r2rml#>.
@prefixrml:<http://semweb.mmlab.be/ns/rml#>.
@prefixql:<http://semweb.mmlab.be/ns/ql#>.
@prefixex:<http://example.com/ns#>.
@prefixxsd:<http://www.w3.org/2001/XMLSchema#>.
@prefixrdfs:<http://www.w3.org/2000/01/rdf-schema#>.

<#JoinIntegratedMapping>
rml:logicalSource[
	rml:source"joinBreakfast.xml";
	rml:referenceFormulationql:XPath;
	rml:iterator"/breakfast-menu/food"
];
rr:subjectMap[
	rr:template"http://food.example.com/{name}";
	rr:classex:breakfastItem;
];

rr:predicateObjectMap[
	rr:predicateex:originatesFrom;
	rr:objectMap[
		rr:parentTriplesMap<#CountryMapping>;
		rr:joinCondition[
			rr:child"/breakfast-menu/food/countryOfOrigin";
			rr:parent"$.country.name"]
		]
	].

<#CountryMapping>
	rml:logicalSource[
		rml:source"joinCountries.json";
		rml:referenceFormulationql:JSONPath;
		rml:iterator"$"
		];
		
		rr:subjectMap[
			rr:template"http://country.example.com/{country.name}";
			rr:classex:Country;
		];
		
		rr:predicateObjectMap[
			rr:predicateex:officialLanguage;
			rr:objectMap[
				rml:reference"country.officialLanguage"]
		].